<ion-header mode="ios">
  <ion-toolbar>
    <ion-title>
      <div style="display:inline-block;vertical-align:top;">
        <img src="assets/logo.png" alt="logo"/>
      </div>
    <div style="display:inline-block; color: black;">
      <div style="margin: 12px;">Trypsync</div>
    </div>
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">

  <div>
    <ion-item lines="none">
      <ion-chip color="success" (click)="scanBlte()" *ngIf="!blueAndLoc">
        <ion-label>Connect</ion-label>
      </ion-chip>
      <ion-badge *ngIf="!blueAndLoc" mode="ios" slot="end" color="danger">!</ion-badge>
      <ion-badge *ngIf="blueAndLoc" mode="ios" slot="end" color="success">:)</ion-badge>
    </ion-item>
  </div>
  <ion-segment [(ngModel)]="segment" value="color" mode="ios">
    <ion-segment-button value="color">
      Color-Picker
    </ion-segment-button>
    <ion-segment-button value="pattern">
      Pattern
    </ion-segment-button>
  </ion-segment>

  
  <div [ngSwitch]="segment">
    <div *ngSwitchCase="'color'" class="color-picker">
      <color-sketch
        [presetColors]="['#D0021B', '#F5A623', '#F8E71C', '#8B572A', '#7ED321', '#417505',  '#9013FE', '#4A90E2', '#50E3C2',  '#FFFFFF']"
        [color]="initialState" (onChangeComplete)="changeComplete($event)"></color-sketch>
    </div>
    <div *ngSwitchCase="'pattern'">
      <ion-slides #slides (ionSlideWillChange)="patternHit()" mode="ios" pager="true" [options]="slideOpts">
        <ion-slide *ngFor="let card of patternArray">
          <ion-card mode="ios">
            <ion-card-header>
              <ion-card-subtitle>Patterns</ion-card-subtitle>
              <ion-button fill="clear" (click)="pickFavourite()">
                <ion-icon class="heart" [name]="card.icon"></ion-icon>
              </ion-button>
              <ion-card-title>{{card.title}}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              Choose your pattern with code {{card.code}}
            </ion-card-content>
          </ion-card>
        </ion-slide>
      </ion-slides>
      <h4 class="label">Favourite Patterns</h4>
      <div class="container">
        <app-favourites putClass='dot' (click)="hitFavourite(i)" *ngFor="let fav of favouritePatterns; let i = index"
          [pattern]="favouritePatterns[i]?.id"></app-favourites>
      </div>
    </div>
  </div>

</ion-content>

<ion-footer mode="ios">
  <ion-item class="range" lines="none">
    <ion-range (ionChange)="brightnessHit()" [(ngModel)]="brightValue" mode="ios" min="0" max="255" step="1">
      <ion-icon class="sun" size="small" slot="start" name="sunny"></ion-icon>
      <ion-icon class="sun" slot="end" name="sunny-outline"></ion-icon>
    </ion-range>
  </ion-item>
</ion-footer>